# MyExperimentToolkit ğŸš€

## Overview ğŸ“–

**MyExperimentToolkit** æ˜¯ä¸€ä¸ªä¸ºç§‘ç ”å®éªŒè®¾è®¡çš„å…‰å¼ºåˆ†å¸ƒæ•°æ®åˆ†æå·¥å…·åŒ…ï¼Œä¸“æ³¨äºå…‰å­¦å®éªŒæ•°æ®çš„æ‰¹é‡å¤„ç†å’Œé«˜ç»´å…‰è°±åˆ†æã€‚å…¶æ ¸å¿ƒåŒ…å«ä¸¤ä¸ªåˆ†ææ¨¡å—ï¼š
- **Optical Intensity Analyzer**ï¼šä¸“æ³¨äºå…‰å¼ºå›¾åƒçš„æ‰¹é‡å¤„ç†ä¸ç»Ÿè®¡åˆ†æã€‚
- **Spectral Analyzer**ï¼šæä¾›å…‰è°±æ•°æ®çš„é«˜çº§åˆ†æå’Œ3Då¯è§†åŒ–åŠŸèƒ½ã€‚

è¯¥å·¥å…·åŒ…é…å¤‡äº†é«˜æ•ˆçš„æ•°æ®åŠ è½½ã€å¤„ç†ã€ä¿å­˜ä¸å¯è§†åŒ–çš„åº•å±‚æ¶æ„ï¼Œä¸ºå…‰å­¦å®éªŒæä¾›ä¸€ç«™å¼è§£å†³æ–¹æ¡ˆã€‚

---

## Key Features âœ¨

- **ğŸ”„ æ‰¹é‡å¤„ç†æ”¯æŒ**ï¼šæ”¯æŒå¤šä¸ªå…‰å¼ºåˆ†å¸ƒå›¾çš„æ‰¹é‡å¤„ç†ï¼Œæå–å…‰è°±ä¿¡æ¯ã€‚
- **âœ‚ï¸ çµæ´»è£å‰ª**ï¼šæ”¯æŒå¯¹å…‰å¼ºåˆ†å¸ƒå›¾è¿›è¡Œåœ†å½¢ã€çŸ©å½¢åŒºåŸŸçš„è£å‰ªæ“ä½œã€‚
- **ğŸ–¼ï¸ å¤šæ ·åŒ–å›¾åƒæ»¤æ³¢**ï¼šæä¾›å¤šç§æ»¤æ³¢æ–¹å¼ï¼ˆé«˜æ–¯æ»¤æ³¢ã€ä¸­å€¼æ»¤æ³¢ã€æ‹‰æ™®æ‹‰æ–¯è¾¹ç¼˜æ£€æµ‹ç­‰ï¼‰ã€‚
- **ğŸŒˆ é«˜ç»´å…‰è°±åˆ†æ**ï¼š
  - æä¾›åŸºäºæ³¢é•¿çš„å…‰è°±æ•°æ®æ’åºã€‚
  - æ”¯æŒç”Ÿæˆ3Då…‰è°±åˆ†å¸ƒå›¾å’Œå¤šå¹³é¢åˆ‡ç‰‡å¯è§†åŒ–ã€‚
- **ğŸ“ å¤šæ ¼å¼æ”¯æŒ**ï¼šæ”¯æŒå¤šç§å›¾åƒæ ¼å¼ï¼ˆ.bmp, .png, .jpg, .csvï¼‰å’Œçµæ´»çš„å…ƒæ•°æ®æå–ã€‚

---

## Installation ğŸ› ï¸

### Requirements ğŸ“‹
- Python >= 3.8
- ä¾èµ–åº“å¯é€šè¿‡ä»¥ä¸‹æ–¹å¼å®‰è£…ï¼š

```bash
pip install -r requirements.txt
```

### Installation Steps

1. å…‹éš†é¡¹ç›®ï¼š
   ```bash
   git clone https://github.com/Patr1ck2005/MyExperimentToolkit.git
   cd MyExperimentToolkit
   ```

2. å®‰è£…ä¾èµ–ï¼š
   ```bash
   pip install -r requirements.txt
   ```

3. è¿è¡Œç¤ºä¾‹ä»£ç éªŒè¯å®‰è£…æ˜¯å¦æˆåŠŸã€‚

---

## Modules Overview ğŸ”

### 1. Optical Intensity Analyzer ğŸ›ï¸

**Optical Intensity Analyzer** ç”¨äºå¯¹å®éªŒçš„å…‰å¼ºåˆ†å¸ƒå›¾è¿›è¡Œæ‰¹é‡åˆ†æï¼ŒåŒ…æ‹¬å…ƒæ•°æ®æå–ã€è£å‰ªã€å¹³å‡å¼ºåº¦è®¡ç®—ç­‰ã€‚

#### æ ¸å¿ƒåŠŸèƒ½ï¼š
- **ğŸ“¦ æ‰¹é‡å¤„ç†**ï¼šå¤„ç†æŒ‡å®šæ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰å…‰å¼ºå›¾ã€‚
- **ğŸ“œ å…ƒæ•°æ®æå–**ï¼šè‡ªåŠ¨ä»æ–‡ä»¶åæå–æ³¢é•¿ã€æ ‡ç­¾ä¿¡æ¯ã€‚
- **âœ‚ï¸ è£å‰ªä¸è¿‡æ»¤**ï¼šæ”¯æŒåŸºäºåœ†å½¢æˆ–çŸ©å½¢åŒºåŸŸçš„è£å‰ªã€‚
- **ğŸ“Š è¾“å‡ºç»“æœ**ï¼š
  - ç”Ÿæˆè£å‰ªåçš„å…‰å¼ºåˆ†å¸ƒå›¾ã€‚
  - å°†ç»“æœä»¥ CSV æ ¼å¼è¾“å‡ºï¼ŒåŒ…å«æ³¢é•¿ã€æ ‡ç­¾å’Œå¹³å‡å¼ºåº¦ã€‚

#### ç¤ºä¾‹ä»£ç ï¼š

```python
from core.optical_intensity_analyzer import OpticalIntensityAnalyzer

# åˆå§‹åŒ–åˆ†æå™¨
analyzer = OpticalIntensityAnalyzer(
    input_dir="path_to_images",
    output_csv_path="output/results.csv",
    crop_shape_params={
        'center_row': 0.5,
        'center_col': 0.5,
        'radius': 0.3,
        'shape': 'circle',
        'relative': True
    }
)

# æ‰¹é‡å¤„ç†å›¾åƒ
analyzer.process_all()
```

---

### 2. Spectral Analyzer ğŸŒŒ

**Spectral Analyzer** æä¾›é«˜çº§å…‰è°±æ•°æ®åˆ†æå·¥å…·ï¼ŒåŒ…æ‹¬3Då…‰è°±ä½“ç§¯æ¸²æŸ“å’Œå¤šè§’åº¦åˆ‡ç‰‡å›¾ã€‚

#### æ ¸å¿ƒåŠŸèƒ½ï¼š
- **ğŸŒŸ 3Då…‰è°±æ¸²æŸ“**ï¼šåŸºäºè£å‰ªåçš„å…‰å¼ºå›¾åƒç”Ÿæˆ3Dä½“ç§¯æ¸²æŸ“ï¼Œç›´è§‚æ˜¾ç¤ºå…‰è°±åˆ†å¸ƒã€‚
- **ğŸ“ å…‰è°±åˆ‡ç‰‡åˆ†æ**ï¼šæ”¯æŒå¤šè§’åº¦åˆ‡ç‰‡ç”ŸæˆäºŒç»´å¼ºåº¦åˆ†å¸ƒå›¾ã€‚
- **ğŸ“ˆ å…‰è°±æ’åºä¸å½’ä¸€åŒ–**ï¼šæ”¯æŒæŒ‰æ³¢é•¿å‡åº/é™åºæ’åºï¼Œå¹¶å¯¹å…‰è°±å¼ºåº¦è¿›è¡Œå½’ä¸€åŒ–å¤„ç†ã€‚

#### ç¤ºä¾‹ä»£ç ï¼š

```python
from core.spectral_analysis import SpectralAnalyzer

# åˆå§‹åŒ–å…‰è°±åˆ†æå™¨
analyzer = SpectralAnalyzer(
    images_dir="path_to_cropped_images",
    boundary_na=0.42,
    wavelength_order='descending'
)

# ç”Ÿæˆ3Då…‰è°±ä½“ç§¯æ¸²æŸ“
analyzer.run_3d_volume_visualization_pyvista(
    output_path="output/spectral_volume.png",
    html_path="output/spectral_volume.html"
)

# ç”ŸæˆäºŒç»´åˆ‡ç‰‡å¼ºåº¦å›¾
analyzer.run_two_planes_intensity_map_visualization(
    angles=[0, 90],
    output_path="output/two_planes_intensity_map.png"
)
```

## Example Workflow âš™ï¸

```python
from core.optical_intensity_analyzer import OpticalIntensityAnalyzer
from core.spectral_analysis import SpectralAnalyzer

# Step 1: æ‰¹é‡å¤„ç†å…‰å¼ºå›¾åƒ
intensity_analyzer = OpticalIntensityAnalyzer(
    input_dir="path_to_raw_images",
    output_csv_path="output/processed_data.csv",
    crop_shape_params={
        'center_row': 0.5,
        'center_col': 0.5,
        'radius': 0.3,
        'shape': 'circle',
        'relative': True
    }
)
intensity_analyzer.process_all()

# Step 2: åŠ è½½è£å‰ªåçš„æ•°æ®è¿›è¡Œå…‰è°±åˆ†æ
spectral_analyzer = SpectralAnalyzer(
    images_dir="path_to_cropped_images",
    boundary_na=0.42
)
spectral_analyzer.run_3d_volume_visualization_pyvista(
    output_path="output/spectral_3d_volume.png"
)
```

---

## Contributing ğŸ¤

å¦‚æœæ‚¨æœ‰å…´è¶£è´¡çŒ®ä»£ç æˆ–å‘ç°é—®é¢˜ï¼Œè¯·é€šè¿‡ GitHub æäº¤ Issue æˆ– Pull Requestã€‚

---

## License ğŸ“œ

**æœ¬é¡¹ç›®ä¸æä¾›ä»»ä½•å¼€æºåè®®**ã€‚å¦‚æœ‰åˆä½œéœ€æ±‚ï¼Œè¯·è”ç³»ç»´æŠ¤è€…ã€‚

---
